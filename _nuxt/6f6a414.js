(window.webpackJsonp=window.webpackJsonp||[]).push([[53,55,56],{2107:function(e,t,n){"use strict";n.r(t);n(370);var o=n(3),i=n(304),r=n.n(i),a=n(105),l=n(26),s={};s.props={environment:{key:"environment",required:!0,type:null},environmentIndex:{key:"environmentIndex",required:!0,type:[Number,String,null]}},s.setup=function(e,t){var n=Object(l.d)(),i=Object(l.j)(),s=e,c=t.emit,u=Object(o.o)(!1),p=Object(o.o)(null),d=Object(o.o)(null),v=Object(o.o)(null),m=Object(o.o)(null),f=Object(o.o)(null);return{t:n,emit:c,confirmRemove:u,tippyActions:p,options:d,edit:v,duplicate:m,deleteAction:f,removeEnvironment:function(){null!==s.environmentIndex&&("Global"!==s.environmentIndex&&Object(a.e)(s.environmentIndex),i.success("".concat(n("state.deleted"))))},duplicateEnvironments:function(){null!==s.environmentIndex&&("Global"===s.environmentIndex?(Object(a.d)("Global - ".concat(n("action.duplicate"))),Object(a.q)(a.h.value.environments.length-1,r()(Object(a.l)()))):Object(a.f)(s.environmentIndex))}}};var c=s,u=n(25),p=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-stretch group",on:{contextmenu:function(t){t.preventDefault(),e.options.tippy().show()}}},[n("span",{staticClass:"flex items-center justify-center px-4 cursor-pointer",on:{click:function(t){return e.emit("edit-environment")}}},[n("SmartIcon",{staticClass:"svg-icons",attrs:{name:"layers"}})],1),e._v(" "),n("span",{staticClass:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark",on:{click:function(t){return e.emit("edit-environment")}}},[n("span",{staticClass:"truncate"},[e._v("\n      "+e._s(e.environment.name)+"\n    ")])]),e._v(" "),n("span",[n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:"","on-shown":function(){return e.tippyActions.focus()}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.t("action.more"),svg:"more-vertical"}})]},proxy:!0}])},[e._v(" "),n("div",{ref:"tippyActions",staticClass:"flex flex-col focus:outline-none",attrs:{tabindex:"0",role:"menu"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"e",void 0,t.key,void 0)?null:e.edit.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"d",void 0,t.key,void 0)?null:e.duplicate.$el.click()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;"Global"!==e.environmentIndex&&e.deleteAction.$el.click()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;e.options.tippy().hide()}]}},[n("SmartItem",{ref:"edit",attrs:{svg:"edit",label:""+e.t("action.edit"),shortcut:["E"]},nativeOn:{click:function(t){return function(){e.emit("edit-environment"),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"duplicate",attrs:{svg:"copy",label:""+e.t("action.duplicate"),shortcut:["D"]},nativeOn:{click:function(t){return function(){e.duplicateEnvironments(),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),"Global"!==e.environmentIndex?n("SmartItem",{ref:"deleteAction",attrs:{svg:"trash-2",label:""+e.t("action.delete"),shortcut:["âŒ«"]},nativeOn:{click:function(t){return function(){e.confirmRemove=!0,e.options.tippy().hide()}.apply(null,arguments)}}}):e._e()],1)])],1),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:""+e.t("confirm.remove_environment")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeEnvironment}})],1)}),[],!1,null,null,null);t.default=p.exports;installComponents(p,{SmartIcon:n(117).default,ButtonSecondary:n(108).default,SmartItem:n(148).default,SmartConfirmModal:n(513).default})},2108:function(e,t,n){"use strict";n.r(t);var o=n(53),i=n(20),r=(n(68),n(4),n(128),n(60),n(149),n(514),n(10),n(57),n(73),n(7),n(76),n(371),n(202),n(129),n(3)),a=n(22),l=n(26),s=n(105),c={};c.props={show:{key:"show",required:!0,type:Boolean}},c.setup=function(e,t){var n=t.emit,c=Object(l.b)(),u=Object(l.j)(),p=Object(l.d)(),d=Object(l.g)(s.g,[]),v=Object(l.g)(a.c,null),m=Object(r.o)(),f=Object(r.o)(),y=Object(r.a)((function(){return JSON.stringify(d.value,null,2)})),b=function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.value){e.next=3;break}return u.error(p("profile.no_permission").toString()),e.abrupt("return");case 3:return e.prev=3,e.next=6,c.$post("https://api.github.com/gists",{files:{"hoppscotch-environments.json":{content:y.value}}},{headers:{Authorization:"token ".concat(v.value.accessToken),Accept:"application/vnd.github.v3+json"}});case 6:t=e.sent,u.success(p("export.gist_created").toString()),window.open(t.html_url),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u.error(p("error.something_went_wrong").toString()),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),h=function(){u.success(p("state.file_imported").toString())},x=function(){u.error(p("import.failed").toString())},g=function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt(p("import.gist_url").toString())){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,c.$get("https://api.github.com/gists/".concat(t.split("/").pop()),{headers:{Accept:"application/vnd.github.v3+json"}});case 6:n=e.sent,o=n.files,i=JSON.parse(Object.values(o)[0].content),Object(s.n)(i),h(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),x(),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){Object(s.c)(e),h()},k=function(e){var t=e.name,n=e.values,o={name:t,variables:[]};n.forEach((function(e){var t=e.key,n=e.value;return o.variables.push({key:t,value:n})})),_([o])};return{t:p,currentUser:v,options:m,inputChooseFileToImportFrom:f,createEnvironmentGist:b,readEnvironmentGist:g,hideModal:function(){n("hide-modal")},openDialogChooseFileToImportFrom:function(){f.value&&f.value.click()},importFromJSON:function(){if(f.value)if(f.value.files&&0!==f.value.files.length){var e=new FileReader;e.onload=function(e){var t=e.target.result;if(t){var n=JSON.parse(t);if("environment"===n._postman_variable_scope||"globals"===n._postman_variable_scope)k(n);else if(n[0]){var i=Object.keys(n[0]),r=Object(o.a)(i,2);r[0],r[1];_(n)}else x()}else u.show(p("action.choose_file").toString())},e.readAsText(f.value.files[0]),f.value.value=""}else u.show(p("action.choose_file").toString())},exportJSON:function(){var e=y.value,t=new Blob([e],{type:"application/json"}),n=document.createElement("a"),o=URL.createObjectURL(t);n.href=o,n.download="".concat(o.split("/").pop().split("#")[0].split("?")[0],".json"),document.body.appendChild(n),n.click(),u.success(p("state.download_started").toString()),setTimeout((function(){document.body.removeChild(n),URL.revokeObjectURL(o)}),1e3)}}};var u=c,p=n(25),d=Object(p.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("SmartModal",{attrs:{dialog:"",title:""+e.t("environment.title"),"max-width":"sm:max-w-md"},on:{close:e.hideModal},scopedSlots:e._u([{key:"actions",fn:function(){return[n("span",[n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:""},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.t("action.more"),svg:"more-vertical"}})]},proxy:!0}],null,!1,3953414183)},[e._v(" "),n("div",{staticClass:"flex flex-col",attrs:{role:"menu"}},[n("SmartItem",{attrs:{icon:"assignment_returned",label:e.t("import.from_gist")},nativeOn:{click:function(t){return function(){e.readEnvironmentGist(),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.currentUser?"github.com"!==e.currentUser.provider?""+e.t("export.require_github"):void 0:""+e.t("export.require_github")}},[n("SmartItem",{attrs:{disabled:!e.currentUser||"github.com"!==e.currentUser.provider,icon:"assignment_turned_in",label:e.t("export.create_secret_gist")},nativeOn:{click:function(t){return function(){e.createEnvironmentGist(),e.options.tippy().hide()}.apply(null,arguments)}}})],1)],1)])],1)]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"flex flex-col px-2 space-y-2"},[n("SmartItem",{attrs:{svg:"folder-plus",label:e.t("import.from_json")},nativeOn:{click:function(t){return e.openDialogChooseFileToImportFrom.apply(null,arguments)}}}),e._v(" "),n("input",{ref:"inputChooseFileToImportFrom",staticClass:"input",attrs:{type:"file",accept:"application/json"},on:{change:e.importFromJSON}}),e._v(" "),n("hr"),e._v(" "),n("SmartItem",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.t("action.download_file"),svg:"download",label:e.t("export.as_json")},nativeOn:{click:function(t){return e.exportJSON.apply(null,arguments)}}})],1)]},proxy:!0}],null,!1,2754836477)}):e._e()}),[],!1,null,null,null);t.default=d.exports;installComponents(d,{ButtonSecondary:n(108).default,SmartItem:n(148).default,SmartModal:n(116).default})},2287:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n(26),r=n(105),a={setup:function(e,t){var n=Object(i.d)(),a=Object(o.o)(null),l=Object(i.g)(r.m,[]),s=Object(o.a)((function(){return{name:"Global",variables:l.value}})),c=Object(i.g)(r.g,[]),u=Object(i.h)(r.o,-1,r.p),p=Object(o.o)(!1),d=Object(o.o)(!1),v=Object(o.o)("edit"),m=Object(o.o)(null),f=function(e){v.value="edit",d.value=e,e||y()},y=function(){m.value=null};return{t:n,options:a,globalEnvironment:s,environments:c,selectedEnvironmentIndex:u,showModalImportExport:p,showModalDetails:d,action:v,editingEnvironmentIndex:m,displayModalAdd:function(e){v.value="new",d.value=e},displayModalEdit:f,displayModalImportExport:function(e){p.value=e},editEnvironment:function(e){m.value=e,v.value="edit",f(!0)}}}},l=a,s=n(25),c=Object(s.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sticky top-0 z-10 flex flex-col rounded-t bg-primary"},[n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:""},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"flex-1 bg-transparent border-b border-dividerLight select-wrapper",attrs:{title:""+e.t("environment.select")}},[-1!==e.selectedEnvironmentIndex?n("ButtonSecondary",{staticClass:"flex-1 !justify-start pr-8 rounded-none",attrs:{label:e.environments[e.selectedEnvironmentIndex].name}}):n("ButtonSecondary",{staticClass:"flex-1 !justify-start pr-8 rounded-none",attrs:{label:""+e.t("environment.select")}})],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"flex flex-col",attrs:{role:"menu"}},[n("SmartItem",{attrs:{label:""+e.t("environment.no_environment"),"info-icon":-1===e.selectedEnvironmentIndex?"done":"","active-info-icon":-1===e.selectedEnvironmentIndex},nativeOn:{click:function(t){return function(){e.selectedEnvironmentIndex=-1,e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),e.environments.length>0?n("hr"):e._e(),e._v(" "),e._l(e.environments,(function(t,o){return n("SmartItem",{key:"gen-"+o,attrs:{label:t.name,"info-icon":o===e.selectedEnvironmentIndex?"done":"","active-info-icon":o===e.selectedEnvironmentIndex},nativeOn:{click:function(t){return function(){e.selectedEnvironmentIndex=o,e.options.tippy().hide()}.apply(null,arguments)}}})}))],2)]),e._v(" "),n("div",{staticClass:"flex justify-between flex-1 border-b border-dividerLight"},[n("ButtonSecondary",{staticClass:"!rounded-none",attrs:{svg:"plus",label:""+e.t("action.new")},nativeOn:{click:function(t){return e.displayModalAdd(!0)}}}),e._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{to:"https://docs.hoppscotch.io/features/environments",blank:"",title:e.t("app.wiki"),svg:"help-circle"}}),e._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{svg:"archive",title:e.t("modal.import_export")},nativeOn:{click:function(t){return e.displayModalImportExport(!0)}}})],1)],1)],1),e._v(" "),n("div",{staticClass:"flex flex-col"},[n("EnvironmentsEnvironment",{staticClass:"border-b border-dashed border-dividerLight",attrs:{"environment-index":"Global",environment:e.globalEnvironment},on:{"edit-environment":function(t){return e.editEnvironment("Global")}}}),e._v(" "),e._l(e.environments,(function(t,o){return n("EnvironmentsEnvironment",{key:"environment-"+o,attrs:{"environment-index":o,environment:t},on:{"edit-environment":function(t){return e.editEnvironment(o)}}})}))],2),e._v(" "),0===e.environments.length?n("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[n("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+e.$colorMode.value+"/blockchain.svg",loading:"lazy",alt:""+e.t("empty.environments")}}),e._v(" "),n("span",{staticClass:"pb-4 text-center"},[e._v("\n      "+e._s(e.t("empty.environments"))+"\n    ")]),e._v(" "),n("ButtonSecondary",{staticClass:"mb-4",attrs:{label:""+e.t("add.new"),filled:""},nativeOn:{click:function(t){return e.displayModalAdd(!0)}}})],1):e._e(),e._v(" "),n("EnvironmentsDetails",{attrs:{show:e.showModalDetails,action:e.action,"editing-environment-index":e.editingEnvironmentIndex},on:{"hide-modal":function(t){return e.displayModalEdit(!1)}}}),e._v(" "),n("EnvironmentsImportExport",{attrs:{show:e.showModalImportExport},on:{"hide-modal":function(t){return e.displayModalImportExport(!1)}}})],1)}),[],!1,null,null,null);t.default=c.exports;installComponents(c,{ButtonSecondary:n(108).default,SmartItem:n(148).default,EnvironmentsEnvironment:n(2107).default,EnvironmentsDetails:n(2047).default,EnvironmentsImportExport:n(2108).default})}}]);