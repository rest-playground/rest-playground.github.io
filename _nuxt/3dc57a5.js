(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1370:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return x}));var n=r(88),o=r(40),c=r(20),a=(r(68),r(136),r(4),r(372),r(11),r(1957),r(370),r(119),r(130),r(903)),i=r(1049),l=r(1001),s=r(978),u=r(1155),d=r(241),p=r.n(d),v=r(74),f=r(304),b=r.n(f);function m(e,t){var r;return l.fromNullable(null!=(r=t.selected.find((function(t){return t.key===e})))?r:t.global.find((function(t){return t.key===e})))}function g(e,t,r){var n=r.selected.findIndex((function(t){return t.key===e}));if(n>=0)return r.selected[n].value=t,{global:r.global,selected:r.selected};var o=r.global.findIndex((function(t){return t.key==e}));return o>=0?(r.global[o].value=t,{global:r.global,selected:r.selected}):(r.selected.push({key:e,value:t}),{global:r.global,selected:r.selected})}function h(e,t,r,o){var c=e.newObject(),a=e.newFunction("toBe",(function(n){var c=e.dump(n),a=t===c;return r&&(a=!a),a?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be '").concat(c,"'")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be '").concat(c,"'")}),{value:e.undefined}})),i=e.newFunction("toBeLevel2xx",(function(){if("number"!=typeof t||Number.isNaN(t))o[o.length-1].expectResults.push({status:"error",message:"Expected 200-level status but could not parse value '".concat(t,"'")});else{var n=t>=200&&t<=299;r&&(n=!n),n?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 200-level status")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 200-level status")})}return{value:e.undefined}})),l=e.newFunction("toBeLevel3xx",(function(){if("number"!=typeof t||Number.isNaN(t))o[o.length-1].expectResults.push({status:"error",message:"Expected 300-level status but could not parse value '".concat(t,"'")});else{var n=t>=300&&t<=399;r&&(n=!n),n?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 300-level status")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 300-level status")})}return{value:e.undefined}})),s=e.newFunction("toBeLevel4xx",(function(){if("number"!=typeof t||Number.isNaN(t))o[o.length-1].expectResults.push({status:"error",message:"Expected 400-level status but could not parse value '".concat(t,"'")});else{var n=t>=400&&t<=499;r&&(n=!n),n?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 400-level status")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 400-level status")})}return{value:e.undefined}})),u=e.newFunction("toBeLevel5xx",(function(){if("number"!=typeof t||Number.isNaN(t))o[o.length-1].expectResults.push({status:"error",message:"Expected 500-level status but could not parse value '".concat(t,"'")});else{var n=t>=500&&t<=599;r&&(n=!n),n?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 500-level status")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be 500-level status")})}return{value:e.undefined}})),d=e.newFunction("toBeType",(function(c){var a=e.dump(c);if(["string","boolean","number","object","undefined","bigint","symbol","function"].includes(a)){var i=Object(n.a)(t)===a;r&&(i=!i),i?o[o.length-1].expectResults.push({status:"pass",message:"Expected '".concat(t,"' to").concat(r?" not":""," be type '").concat(a,"'")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected '".concat(t,"' to").concat(r?" not":""," be type '").concat(a,"'")})}else o[o.length-1].expectResults.push({status:"error",message:'Argument for toBeType should be "string", "boolean", "number", "object", "undefined", "bigint", "symbol" or "function"'});return{value:e.undefined}})),p=e.newFunction("toHaveLength",(function(n){var c=e.dump(n);if(!Array.isArray(t)&&"string"!=typeof t)return o[o.length-1].expectResults.push({status:"error",message:"Expected toHaveLength to be called for an array or string"}),{value:e.undefined};if("number"!=typeof c||Number.isNaN(c))o[o.length-1].expectResults.push({status:"error",message:"Argument for toHaveLength should be a number"});else{var a=t.length===c;r&&(a=!a),a?o[o.length-1].expectResults.push({status:"pass",message:"Expected the array to".concat(r?" not":""," be of length '").concat(c,"'")}):o[o.length-1].expectResults.push({status:"fail",message:"Expected the array to".concat(r?" not":""," be of length '").concat(c,"'")})}return{value:e.undefined}})),v=e.newFunction("toInclude",(function(n){var c=e.dump(n);if(!Array.isArray(t)&&"string"!=typeof t)return o[o.length-1].expectResults.push({status:"error",message:"Expected toInclude to be called for an array or string"}),{value:e.undefined};if(null===c)return o[o.length-1].expectResults.push({status:"error",message:"Argument for toInclude should not be null"}),{value:e.undefined};if(void 0===c)return o[o.length-1].expectResults.push({status:"error",message:"Argument for toInclude should not be undefined"}),{value:e.undefined};var a=t.includes(c);r&&(a=!a);var i=JSON.stringify(t),l=JSON.stringify(c);return a?o[o.length-1].expectResults.push({status:"pass",message:"Expected ".concat(i," to").concat(r?" not":""," include ").concat(l)}):o[o.length-1].expectResults.push({status:"fail",message:"Expected ".concat(i," to").concat(r?" not":""," include ").concat(l)}),{value:e.undefined}}));return e.setProp(c,"toBe",a),e.setProp(c,"toBeLevel2xx",i),e.setProp(c,"toBeLevel3xx",l),e.setProp(c,"toBeLevel4xx",s),e.setProp(c,"toBeLevel5xx",u),e.setProp(c,"toBeType",d),e.setProp(c,"toHaveLength",p),e.setProp(c,"toInclude",v),e.defineProp(c,"not",{get:function(){return h(e,t,!r,o)}}),a.dispose(),i.dispose(),l.dispose(),s.dispose(),u.dispose(),d.dispose(),p.dispose(),v.dispose(),c}var y=function(e,t,r){return Object(a.pipe)(i.tryCatch(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getQuickJS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){return"QuickJS initialization failed: ".concat(e)})),i.chain((function(n){var c=b()(t),u=n.createVm(),d=u.newObject(),p=[{descriptor:"root",expectResults:[],children:[]}],f=u.newFunction("test",(function(e,t){var r=u.getString(e);p.push({descriptor:r,expectResults:[],children:[]}),u.unwrapResult(u.callFunction(t,u.null)).dispose();var n=p.pop();p[p.length-1].children.push(n)})),y=u.newFunction("expect",(function(e){var t=u.dump(e);return{value:h(u,t,!1,p)}})),x=function(e,t){var r;try{r=JSON.stringify(t)}catch(e){return s.left("Marshaling stringification failed")}var n=e.newString(r),o=e.getProp(e.global,"JSON"),c=e.getProp(o,"parse"),a=e.callFunction(c,e.undefined,n);if(a.error)return a.error.dispose(),s.left("Marshaling failed");var i=e.unwrapResult(a);return n.dispose(),c.dispose(),o.dispose(),s.right(i)}(u,r);if(s.isLeft(x))return i.left("Response marshalling failed: ".concat(x.left));u.setProp(d,"response",x.right),x.right.dispose(),u.setProp(d,"expect",y),y.dispose(),u.setProp(d,"test",f),f.dispose();var k=u.newObject(),O=u.newFunction("get",(function(e){var t=u.dump(e);return"string"!=typeof t?{error:u.newString("Expected key to be a string")}:{value:Object(a.pipe)(m(t,c),l.match((function(){return u.undefined}),(function(e){var t=e.value;return u.newString(t)})))}})),j=u.newFunction("getResolve",(function(e){var r=u.dump(e);return"string"!=typeof r?{error:u.newString("Expected key to be a string")}:{value:Object(a.pipe)(m(r,c),s.fromOption((function(){return"INVALID_KEY"})),s.map((function(e){var r=e.value;return Object(a.pipe)(Object(v.parseTemplateStringE)(r,[].concat(Object(o.a)(t.selected),Object(o.a)(t.global))),s.getOrElse((function(){return r})))})),s.map((function(e){return u.newString(e)})),s.getOrElse((function(){return u.undefined})))}})),w=u.newFunction("set",(function(e,t){var r=u.dump(e),n=u.dump(t);return"string"!=typeof r?{error:u.newString("Expected key to be a string")}:"string"!=typeof n?{error:u.newString("Expected value to be a string")}:(c=g(r,n,c),{value:u.undefined})})),R=u.newFunction("resolve",(function(e){var t=u.dump(e);if("string"!=typeof t)return{error:u.newString("Expected value to be a string")};var r=Object(a.pipe)(Object(v.parseTemplateStringE)(t,[].concat(Object(o.a)(c.selected),Object(o.a)(c.global))),s.getOrElse((function(){return t})));return{value:u.newString(r)}}));u.setProp(k,"resolve",R),R.dispose(),u.setProp(k,"set",w),w.dispose(),u.setProp(k,"getResolve",j),j.dispose(),u.setProp(k,"get",O),O.dispose(),u.setProp(d,"env",k),k.dispose(),u.setProp(u.global,"pw",d),d.dispose();var C=u.evalCode(e);if(C.error){var S=u.dump(C.error);return C.error.dispose(),i.left("Script evaluation failed: ".concat(S))}return u.dispose(),i.right({tests:p,envs:c})})))},x=function(e,t,r){return Object(a.pipe)(y(e,t,r),i.chain((function(e){return i.right({envs:e.envs,tests:e.tests[0]})})))},k=function(e,t){return Object(a.pipe)(i.tryCatch(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getQuickJS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){return"QuickJS initialization failed: ".concat(e)})),i.chain((function(r){var n=p()(t),c=r.createVm(),u=c.newObject(),d=c.newObject(),f=c.newFunction("get",(function(e){var t=c.dump(e);return"string"!=typeof t?{error:c.newString("Expected key to be a string")}:{value:Object(a.pipe)(m(t,n),l.match((function(){return c.undefined}),(function(e){var t=e.value;return c.newString(t)})))}})),b=c.newFunction("getResolve",(function(e){var r=c.dump(e);return"string"!=typeof r?{error:c.newString("Expected key to be a string")}:{value:Object(a.pipe)(m(r,n),s.fromOption((function(){return"INVALID_KEY"})),s.map((function(e){var r=e.value;return Object(a.pipe)(Object(v.parseTemplateStringE)(r,[].concat(Object(o.a)(t.selected),Object(o.a)(t.global))),s.getOrElse((function(){return r})))})),s.map((function(e){return c.newString(e)})),s.getOrElse((function(){return c.undefined})))}})),h=c.newFunction("set",(function(e,t){var r=c.dump(e),o=c.dump(t);return"string"!=typeof r?{error:c.newString("Expected key to be a string")}:"string"!=typeof o?{error:c.newString("Expected value to be a string")}:(n=g(r,o,n),{value:c.undefined})})),y=c.newFunction("resolve",(function(e){var t=c.dump(e);if("string"!=typeof t)return{error:c.newString("Expected value to be a string")};var r=Object(a.pipe)(Object(v.parseTemplateStringE)(t,[].concat(Object(o.a)(n.selected),Object(o.a)(n.global))),s.getOrElse((function(){return t})));return{value:c.newString(r)}}));c.setProp(d,"resolve",y),y.dispose(),c.setProp(d,"set",h),h.dispose(),c.setProp(d,"getResolve",b),b.dispose(),c.setProp(d,"get",f),f.dispose(),c.setProp(u,"env",d),d.dispose(),c.setProp(c.global,"pw",u),u.dispose();var x=c.evalCode(e);if(x.error){var k=c.dump(x.error);return x.error.dispose(),i.left(k)}return c.dispose(),i.right(n)})))}},1378:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l}));var n=r(1370),o=r(304),c=r.n(o),a=r(105),i=function(){return{global:c()(Object(a.l)()),selected:c()(Object(a.j)().variables)}},l=function(e,t){return Object(n.a)(e,t)}},1387:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return f}));r(8),r(9),r(14),r(7),r(13);var n=r(34),o=r(20),c=(r(68),r(176),r(64),r(10),r(11),r(4),r(60),r(149),r(1379),r(1983),r(1933),r(1934),r(1935),r(1936),r(1937),r(1938),r(1939),r(1940),r(1941),r(1942),r(1943),r(1944),r(1945),r(1946),r(1947),r(1948),r(1949),r(1950),r(1951),r(1952),r(1953),r(1954),r(1955),r(99),r(76),r(87),r(128),r(161),r(1932),r(210),r(101));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l="".concat(window.location.origin,"/"),s=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(r).map((function(e){return"".concat(e,"=").concat(r[e])})).join("&"),o={method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:n},e.prev=2,e.next=5,fetch(t,o);case 5:return c=e.sent,e.next=8,c.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",headers:{"Content-type":"application/json"}},e.prev=1,e.next=4,fetch(t,r);case 4:return n=e.sent,e.next=7,n.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,(function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},p=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t,c=void 0,c=(new TextEncoder).encode(o),window.crypto.subtle.digest("SHA-256",c);case 2:return r=e.sent,e.abrupt("return",(n=r,btoa(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")));case 4:case"end":return e.stop()}var n,o,c}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,a,i,s,v,f,b,m,g,h,y,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oidcDiscoveryUrl,n=t.grantType,o=t.authUrl,a=t.accessTokenUrl,i=t.clientId,s=t.clientSecret,v=t.scope,""===r){e.next=9;break}return e.next=4,u(r);case 4:f=e.sent,b=f.authorization_endpoint,m=f.token_endpoint,o=b,a=m;case 9:return Object(c.c)("tokenEndpoint",a),Object(c.c)("client_id",i),Object(c.c)("client_secret",s),g=d(),Object(c.c)("pkce_state",g),h=d(),Object(c.c)("pkce_codeVerifier",h),e.next=18,p(h);case 18:y=e.sent,x=function(){return"".concat(o+"?response_type=".concat(n),"&client_id=").concat(encodeURIComponent(i),"&state=").concat(encodeURIComponent(g),"&scope=").concat(encodeURIComponent(v),"&redirect_uri=").concat(encodeURIComponent(l),"&code_challenge=").concat(encodeURIComponent(y),"&code_challenge_method=S256")},window.location=x();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e,t="",r=""===(e=window.location.search.substring(1))?{}:e.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return i(i({},e),{},Object(n.a)({},t[0],t[1]))}),{});if(r.error&&alert("Error returned from authorization server: ".concat(r.error)),r.code){if(Object(c.a)("pkce_state")!==r.state)alert("Invalid state"),Promise.reject(t);else try{t=s(Object(c.a)("tokenEndpoint"),{grant_type:"authorization_code",code:r.code,client_id:Object(c.a)("client_id"),client_secret:Object(c.a)("client_secret"),redirect_uri:l,code_verifier:Object(c.a)("pkce_codeVerifier")})}catch(e){return console.error(e),Promise.reject(t)}return Object(c.b)("pkce_state"),Object(c.b)("pkce_codeVerifier"),Object(c.b)("tokenEndpoint"),Object(c.b)("client_id"),Object(c.b)("client_secret"),t}return Promise.reject(t)}},1966:function(e,t,r){"use strict";r.r(t);var n=r(40),o=r(20),c=(r(68),r(11),r(3)),a=r(74),i=r(26),l=r(118),s=r(1387),u=r(1378),d=Object(c.c)({setup:function(){var e=Object(i.d)(),t=Object(i.j)(),r=Object(i.h)(l.i,{authType:"none",authActive:!0},l.s),c=Object(i.a)(r,"oidcDiscoveryURL"),d=Object(i.a)(r,"authURL"),p=Object(i.a)(r,"accessTokenURL"),v=Object(i.a)(r,"clientID"),f=Object(i.a)(r,"clientSecret"),b=Object(i.a)(r,"scope"),m=function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(){var o,i,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==c.value||""!==d.value&&""!==p.value){r.next=3;break}return t.error("".concat(e("error.incomplete_config_urls"))),r.abrupt("return");case 3:return o=Object(u.a)(),i=[].concat(Object(n.a)(o.selected),Object(n.a)(o.global)),r.prev=5,l={grantType:"code",oidcDiscoveryUrl:Object(a.parseTemplateString)(c.value,i),authUrl:Object(a.parseTemplateString)(d.value,i),accessTokenUrl:Object(a.parseTemplateString)(p.value,i),clientId:Object(a.parseTemplateString)(v.value,i),clientSecret:Object(a.parseTemplateString)(f.value,i),scope:Object(a.parseTemplateString)(b.value,i)},r.next=9,Object(s.b)(l);case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(5),t.error("".concat(r.t0));case 14:case"end":return r.stop()}}),r,null,[[5,11]])})));return function(){return r.apply(this,arguments)}}();return{oidcDiscoveryURL:c,authURL:d,accessTokenURL:p,clientID:v,clientSecret:f,scope:b,handleAccessTokenRequest:m,t:e}}}),p=d,v=r(25),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"OpenID Connect Discovery URL"},model:{value:e.oidcDiscoveryURL,callback:function(t){e.oidcDiscoveryURL=t},expression:"oidcDiscoveryURL"}})],1),e._v(" "),r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"Authorization URL"},model:{value:e.authURL,callback:function(t){e.authURL=t},expression:"authURL"}})],1),e._v(" "),r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"Access Token URL"},model:{value:e.accessTokenURL,callback:function(t){e.accessTokenURL=t},expression:"accessTokenURL"}})],1),e._v(" "),r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"Client ID"},model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),e._v(" "),r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"Client Secret"},model:{value:e.clientSecret,callback:function(t){e.clientSecret=t},expression:"clientSecret"}})],1),e._v(" "),r("div",{staticClass:"flex flex-1 border-b border-dividerLight"},[r("SmartEnvInput",{attrs:{placeholder:"Scope"},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1),e._v(" "),r("div",{staticClass:"p-2"},[r("ButtonSecondary",{attrs:{filled:"",label:""+e.t("authorization.generate_token")},nativeOn:{click:function(t){return e.handleAccessTokenRequest()}}})],1)])}),[],!1,null,null,null);t.default=f.exports;installComponents(f,{SmartEnvInput:r(959).default,ButtonSecondary:r(108).default})},938:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"d",(function(){return x})),r.d(t,"a",(function(){return j})),r.d(t,"c",(function(){return w}));var n=r(40),o=(r(57),r(1043),r(11),r(912)),c=r(952),a=r(1044),i=r(911),l=r(972),s=r(925),u=r(1036),d=r(955),p=r(1039),v=r(1045),f=r(1047),b=r(954),m=r(1048),g=r(1046),h=r(956),y=o.d.theme({"&":{fontSize:"var(--font-size-body)",height:"100%",width:"100%",flex:"1"},".cm-content":{caretColor:"var(--secondary-dark-color)",fontFamily:"var(--font-mono)",backgroundColor:"var(--primary-color)"},".cm-cursor":{borderColor:"var(--secondary-color)"},".cm-widgetBuffer":{position:"absolute"},".cm-selectionBackground":{backgroundColor:"var(--accent-dark-color)",color:"var(--accent-contrast-color)"},".cm-panels":{backgroundColor:"var(--primary-light-color)",color:"var(--secondary-light-color)"},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--divider-light-color)",top:"var(--lower-tertiary-sticky-fold) !important","z-index":"10"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--divider-light-color)"},".cm-search":{display:"flex",alignItems:"center",flexWrap:"nowrap",flexShrink:0,overflow:"auto"},".cm-search label":{display:"inline-flex",alignItems:"center"},".cm-textfield":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-dark-color)",borderColor:"var(--divider-light-color)",borderRadius:"3px"},".cm-button":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-dark-color)",backgroundImage:"none",border:"none"},".cm-completionLabel":{color:"var(--secondary-color)"},".cm-tooltip":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-light-color)",border:"none",borderRadius:"3px"},".cm-tooltip-arrow:after":{borderColor:"transparent !important"},".cm-tooltip-arrow:before":{borderColor:"transparent !important"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"var(--font-mono)"},".cm-tooltip-autocomplete ul li[aria-selected]":{backgroundColor:"var(--accent-dark-color)",color:"var(--accent-contrast-color)"},".cm-tooltip-autocomplete ul li[aria-selected] .cm-completionLabel":{color:"var(--accent-contrast-color)"},".cm-activeLine":{backgroundColor:"transparent"},".cm-searchMatch":{outline:"1px solid var(--accent-dark-color)",backgroundColor:"var(--divider-dark-color)"},".cm-selectionMatch":{outline:"1px solid var(--accent-dark-color)",backgroundColor:"var(--divider-light-color)"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"var(--divider-color)",outline:"1px solid var(--accent-dark-color)"},".cm-gutters":{fontFamily:"var(--font-mono)",backgroundColor:"var(--primary-color)",borderColor:"var(--divider-light-color)"},".cm-lineNumbers":{minWidth:"3em",color:"var(--secondary-light-color)"},".cm-foldGutter":{minWidth:"2em",color:"var(--secondary-light-color)"},".cm-foldGutter .cm-gutterElement":{textAlign:"center"},".cm-line":{paddingLeft:"0.5em",paddingRight:"0.5em"},".cm-activeLineGutter":{backgroundColor:"transparent"},".cm-scroller::-webkit-scrollbar":{display:"none"},".cm-foldPlaceholder":{backgroundColor:"var(--divider-light-color)",color:"var(--secondary-dark-color)",borderColor:"var(--divider-dark-color)"}}),x=o.d.theme({"&":{fontSize:"var(--font-size-body)",height:"100%",width:"100%",flex:"1"},".cm-content":{caretColor:"var(--secondary-dark-color)",fontFamily:"var(--font-sans)",color:"var(--secondary-dark-color)",backgroundColor:"transparent"},".cm-cursor":{borderColor:"var(--secondary-color)"},".cm-widgetBuffer":{position:"absolute"},".cm-selectionBackground":{backgroundColor:"var(--accent-dark-color)",color:"var(--accent-contrast-color)"},".cm-panels":{backgroundColor:"var(--primary-light-color)",color:"var(--secondary-light-color)"},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--divider-light-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--divider-light-color)"},".cm-search":{display:"flex",alignItems:"center",flexWrap:"nowrap",flexShrink:0,overflow:"auto"},".cm-search label":{display:"inline-flex",alignItems:"center"},".cm-textfield":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-dark-color)",borderColor:"var(--divider-light-color)",borderRadius:"3px"},".cm-button":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-dark-color)",backgroundImage:"none",border:"none"},".cm-completionLabel":{color:"var(--secondary-color)"},".cm-tooltip":{backgroundColor:"var(--primary-dark-color)",color:"var(--secondary-light-color)",border:"none",borderRadius:"3px"},".cm-tooltip-arrow:after":{borderColor:"transparent !important"},".cm-tooltip-arrow:before":{borderColor:"transparent !important"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"var(--font-mono)"},".cm-tooltip-autocomplete ul li[aria-selected]":{backgroundColor:"var(--accent-dark-color)",color:"var(--accent-contrast-color)"},".cm-tooltip-autocomplete ul li[aria-selected] .cm-completionLabel":{color:"var(--accent-contrast-color)"},".cm-activeLine":{backgroundColor:"transparent"},".cm-searchMatch":{outline:"1px solid var(--accent-dark-color)",backgroundColor:"var(--divider-dark-color)"},".cm-selectionMatch":{outline:"1px solid var(--accent-dark-color)",backgroundColor:"var(--divider-light-color)"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"var(--divider-color)",outline:"1px solid var(--accent-dark-color)"},".cm-gutters":{fontFamily:"var(--font-mono)",backgroundColor:"var(--primary-color)",borderColor:"var(--divider-light-color)"},".cm-lineNumbers":{minWidth:"3em",color:"var(--secondary-light-color)"},".cm-foldGutter":{minWidth:"2em",color:"var(--secondary-light-color)"},".cm-foldGutter .cm-gutterElement":{textAlign:"center"},".cm-line":{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.2rem",paddingBottom:"0.2rem"},".cm-activeLineGutter":{backgroundColor:"transparent"},".cm-scroller::-webkit-scrollbar":{display:"none"},".cm-foldPlaceholder":{backgroundColor:"var(--divider-light-color)",color:"var(--secondary-dark-color)",borderColor:"var(--divider-dark-color)"}}),k="var(--editor-name-color)",O="var(--editor-constant-color)",j=c.a.define([{tag:c.d.keyword,color:"var(--editor-keyword-color)"},{tag:[c.d.name,c.d.deleted,c.d.character,c.d.propertyName,c.d.macroName],color:k},{tag:[c.d.function(c.d.variableName),c.d.labelName],color:"var(--editor-variable-color)"},{tag:[c.d.color,c.d.constant(c.d.name),c.d.standard(c.d.name)],color:O},{tag:[c.d.definition(c.d.name),c.d.separator],color:"var(--editor-separator-color)"},{tag:[c.d.typeName,c.d.className,c.d.number,c.d.changed,c.d.annotation,c.d.modifier,c.d.self,c.d.namespace],color:"var(--editor-type-color)"},{tag:[c.d.operator,c.d.operatorKeyword,c.d.url,c.d.escape,c.d.regexp,c.d.link,c.d.special(c.d.string)],color:"var(--editor-operator-color)"},{tag:[c.d.meta,c.d.comment],color:"var(--editor-meta-color)"},{tag:c.d.strong,fontWeight:"bold"},{tag:c.d.emphasis,fontStyle:"italic"},{tag:c.d.strikethrough,textDecoration:"line-through"},{tag:c.d.link,color:"var(--editor-link-color)",textDecoration:"underline"},{tag:c.d.heading,fontWeight:"bold",color:k},{tag:[c.d.atom,c.d.bool,c.d.special(c.d.variableName)],color:O},{tag:[c.d.processingInstruction,c.d.string,c.d.inserted],color:"var(--editor-process-color)"},{tag:c.d.invalid,color:"var(--editor-invalid-color)"}]),w=[Object(u.d)(),Object(u.c)(),Object(o.l)(),Object(l.a)(),Object(a.a)({openText:"▾",closedText:"▸"}),Object(o.i)(),Object(o.j)(),i.g.allowMultipleSelections.of(!0),Object(s.p)(),c.b.fallback,Object(p.a)(),Object(v.a)(),Object(b.a)(),Object(g.b)(),Object(g.a)(),Object(o.k)(),Object(f.a)(),o.m.of([].concat(Object(n.a)(v.b),Object(n.a)(d.a),Object(n.a)(f.c),Object(n.a)(l.b),Object(n.a)(a.b),Object(n.a)(m.a),Object(n.a)(b.c),Object(n.a)(h.a))),Object(f.b)({top:!0})]},939:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g}));var n=r(109),o=r(110),c=(r(60),r(87),r(136),r(4),r(3)),a=r(911),i=r(958),l=r(912),s=r(16),u=r(74),d=r(105),p=/(<<[a-zA-Z0-9-_]+>>)/g,v=function(e){return Object(i.b)((function(t,r,n){for(var o,c,a,i,l=t.state.doc.lineAt(r),d=l.from,v=l.to,f=l.text,b=r,m=r;b>d&&/[a-zA-Z0-9-_]+/.test(f[b-d-1]);)b--;for(;m<v&&/[a-zA-Z0-9-_]+/.test(f[m-d]);)m++;if(b===r&&n<0||m===r&&n>0||!p.test(f.slice(b-d-2,m-d+2)))return null;var g=null!==(c=null===(o=e.find((function(e){return e.key===f.slice(b-d,m-d)})))||void 0===o?void 0:o.sourceEnv)&&void 0!==c?c:"choose an environment",h=null!==(i=null===(a=e.find((function(e){return e.key===f.slice(b-d,m-d)})))||void 0===a?void 0:a.value)&&void 0!==i?i:"not found",y=Object(u.parseTemplateStringE)(h,e),x=s.isLeft(y)?"error":y.right;return{pos:b,end:v,above:!0,arrow:!0,create:function(){var e=document.createElement("span"),t=document.createElement("xmp");return t.textContent=x,e.appendChild(document.createTextNode("".concat(g," "))),e.appendChild(t),e.className="tooltip-theme",{dom:e}}}}),{hoverTime:1})};var f=function(e){return new l.e({regexp:p,decoration:function(t){return function(e,t){var r=t.find((function(t){return t.key===e.slice(2,-2)}))?"bg-accentDark text-accentContrast hover:bg-accent":"bg-red-500 text-accentContrast hover:bg-red-600";return l.b.mark({class:"".concat("cursor-help transition rounded px-1 focus:outline-none mx-0.5 env-highlight"," ").concat(r)})}(t[0],e)}})},b=function(e){var t=f(e);return l.g.define((function(e){return{decorations:t.createDeco(e),update:function(e){this.decorations=t.updateDeco(e,this.decorations)}}}),{decorations:function(e){return e.decorations}})},m=function(){function e(t,r){var o=this;Object(n.a)(this,e),this.editorView=r,this.compartment=new a.e,this.envs=[],this.envs=Object(d.i)(),t(d.b,(function(e){var t;o.envs=e,null===(t=o.editorView.value)||void 0===t||t.dispatch({effects:o.compartment.reconfigure([v(o.envs),b(o.envs)])})}))}return Object(o.a)(e,[{key:"extension",get:function(){return this.compartment.of([v(this.envs),b(this.envs)])}}]),e}(),g=function(){function e(t,r){var o=this;Object(n.a)(this,e),this.editorView=r,this.compartment=new a.e,this.envs=[],Object(c.z)(t,(function(e){var t;o.envs=e,null===(t=o.editorView.value)||void 0===t||t.dispatch({effects:o.compartment.reconfigure([v(o.envs),b(o.envs)])})}),{immediate:!0})}return Object(o.a)(e,[{key:"extension",get:function(){return this.compartment.of([v(this.envs),b(this.envs)])}}]),e}()},959:function(e,t,r){"use strict";r.r(t);var n=r(40),o=r(109),c=r(110),a=(r(60),r(161),r(998),r(176),r(1005),r(64),r(136),r(4),r(3)),i=r(912),l=r(911),s=r(241),u=r.n(s),d=r(958),p=r(972),v=r(938),f=r(939),b=r(26),m=r(105),g={};g.props={value:{key:"value",required:!1,type:String,default:""},placeholder:{key:"placeholder",required:!1,type:String,default:""},styles:{key:"styles",required:!1,type:String,default:""},envs:{key:"envs",required:!1,type:[Array,null],default:null},focus:{key:"focus",required:!1,type:Boolean,default:!1},readonly:{key:"readonly",required:!1,type:Boolean,default:!1}},g.setup=function(e,t){var r=e,s=t.emit,g=Object(a.o)(r.value),h=Object(a.o)(),y=Object(a.o)(null);Object(a.z)((function(){return r.value}),(function(e){var t,r,n=e.replaceAll("\n",""),o=null===(t=h.value)||void 0===t?void 0:t.state.doc.toJSON().join(h.value.state.lineBreak);g.value===n&&e===o||(g.value=n,null===(r=h.value)||void 0===r||r.dispatch({filter:!1,changes:{from:0,to:h.value.state.doc.length,insert:n}}))}),{immediate:!0,flush:"sync"});var x=null,k=null,O=Object(b.g)(m.b,[]),j=Object(a.a)((function(){return r.envs?r.envs.map((function(e){return{key:e.key,value:e.value,sourceEnv:e.source}})):O.value})),w=new f.b(j,h),R=function(e){var t=[i.d.contentAttributes.of({"aria-label":r.placeholder}),i.d.updateListener.of((function(e){r.readonly&&(e.view.contentDOM.inputMode="none")})),l.g.changeFilter.of((function(){return!r.readonly})),v.d,r.readonly?i.d.theme({".cm-content":{caretColor:"var(--secondary-dark-color) !important",color:"var(--secondary-dark-color) !important",backgroundColor:"var(--divider-color) !important",opacity:.25}}):i.d.theme({}),Object(d.d)({position:"absolute"}),w,Object(i.o)(r.placeholder),i.d.domEventHandlers({paste:function(e){var t,r;x=e,k=null!==(r=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"))&&void 0!==r?r:""},drop:function(e){e.preventDefault()}}),i.g.fromClass(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"update",value:function(e){if(!r.readonly&&e.docChanged){var t=u()(g.value);g.value=e.state.doc.toJSON().join(e.state.lineBreak);var n=u()(g.value).replaceAll("\n","");if(s("input",n),s("change",n),!!e.transactions.find((function(e){return e.isUserEvent("input.paste")}))&&x){var o=k;Object(a.g)((function(){s("paste",{pastedValue:o,prevValue:t})}))}else x=null,k=null}}}]),e}()),Object(p.a)(),i.m.of(Object(n.a)(p.b))];h.value=new i.d({parent:e,state:l.g.create({doc:r.value,extensions:t})})};return Object(a.j)((function(){y.value&&(h.value||R(y.value))})),Object(a.z)(y,(function(){var e;y.value?h.value||R(y.value):(null===(e=h.value)||void 0===e||e.destroy(),h.value=void 0)})),{emit:s,editor:y}};var h=g,y=r(25),x=Object(y.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center flex-1 flex-shrink-0 overflow-auto whitespace-nowrap hide-scrollbar"},[r("div",{ref:"editor",staticClass:"flex flex-1",class:e.styles,attrs:{placeholder:e.placeholder},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.emit("enter",t))},function(t){return e.emit("keydown",t)}],keyup:function(t){return e.emit("keyup",t)},click:function(t){return e.emit("click",t)}}})])}),[],!1,null,null,null);t.default=x.exports}}]);