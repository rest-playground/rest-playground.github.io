(window.webpackJsonp=window.webpackJsonp||[]).push([[48,106],{1040:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u}));n(523),n(1136),n(1137),n(4),n(177);var o=n(241),r=n.n(o),i=function(e){return function(t){var n=r()(t);return n.sort(e),n}},a=function(e){return function(t){return t.flatMap(e)}},u=function(e){return function(t){return t.join(e)}}},1053:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n(52),r=n(1),i=function(e){return o.tryCatch((function(){return JSON.parse(e)}))},a=Object(r.flow)(i,o.isSome)},1155:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n(53),r=n(89),i=(n(57),n(177),n(64),n(10),n(244),n(206),n(137),n(4),n(1360),n(1361),n(1362)),a=n.n(i),u=n(1147),c=n(74),l=n(1),s=n(87),p=n(305),d=n(52),v=n(55),f=n(61),m=n(932),y=n(931),h="openapi/deref_error",b=function(e){return d.tryCatch((function(){return JSON.parse(e)}))},j=Object(l.flow)(p.replace(/{/g,"<<"),p.replace(/}/g,">>")),O=function(e){return Object(l.pipe)(e,s.filterMap(Object(l.flow)(d.fromPredicate((function(e){return"header"===e.in})),d.map((function(e){return{key:e.name,value:"",active:!0}})))))},T=function(e){var t,n,r=Object.entries(null!==(n=null===(t=e.requestBody)||void 0===t?void 0:t.content)&&void 0!==n?n:{});if(0===r.length)return{contentType:null,body:null};var i=Object(o.a)(r[0],2),a=i[0],u=i[1];return a in c.knownContentTypes?"multipart/form-data"===a||"application/x-www-form-urlencoded"===a?function(e,t){var n,o=t.schema;if(!o||"object"!==o.type)return"application/x-www-form-urlencoded"===e?{contentType:e,body:""}:{contentType:e,body:[]};var r=Object.keys(null!==(n=o.properties)&&void 0!==n?n:{});return"application/x-www-form-urlencoded"===e?{contentType:e,body:r.map((function(e){return"".concat(e,": ")})).join("\n")}:{contentType:e,body:r.map((function(e){return{key:e,value:"",isFile:!1,active:!0}}))}}(a,u):{contentType:a,body:""}:{contentType:null,body:null}},k=function(e,t){return o="openapi",!!(n=e)&&"object"===Object(r.a)(n)&&Object.prototype.hasOwnProperty.call(n,o)&&"string"==typeof e.openapi&&e.openapi.startsWith("3.");var n,o},w=function(e,t){return k(e)?T(t):function(e){var t,n,o=(null!==(t=e.consumes)&&void 0!==t?t:[])[0];if(!o||!(o in c.knownContentTypes))return{contentType:null,body:null};if("multipart/form-data"!==o&&"application/x-www-form-urlencoded"!==o)return{contentType:o,body:""};var r=Object(l.pipe)(null!==(n=e.parameters)&&void 0!==n?n:[],s.filterMap(Object(l.flow)(d.fromPredicate((function(e){return"body"===e.in})),d.map((function(e){return{key:e.name,isFile:!1,value:"",active:!0}})))));return"application/x-www-form-urlencoded"===o?{contentType:o,body:r.map((function(e){var t=e.key;return"".concat(t,": ")})).join("\n")}:{contentType:o,body:r}}(t)},x=function(e,t){var n,r=t[0];if(!r)return{authType:"none",authActive:!0};var i=null!==(n=Object.entries(r)[0])&&void 0!==n?n:[void 0,void 0],a=Object(o.a)(i,2),u=a[0],c=a[1];return u&&c?function(e,t,n){var o,r,i=null===(r=null===(o=e.components)||void 0===o?void 0:o.securitySchemes)||void 0===r?void 0:r[t];return i?function(e,t){var n,o,r,i,a,u;if("http"===e.type)return"basic"===e.scheme?{authType:"basic",authActive:!0,username:"",password:""}:"bearer"===e.scheme?{authType:"bearer",authActive:!0,token:""}:{authType:"none",authActive:!0};if("apiKey"===e.type){if("header"===e.in)return{authType:"api-key",authActive:!0,addTo:"Headers",key:e.name,value:""};if("query"===e.in)return{authType:"api-key",authActive:!0,addTo:"Query params",key:e.in,value:""}}else{if("oauth2"===e.type)return e.flows.authorizationCode?{authType:"oauth-2",authActive:!0,accessTokenURL:null!==(n=e.flows.authorizationCode.tokenUrl)&&void 0!==n?n:"",authURL:null!==(o=e.flows.authorizationCode.authorizationUrl)&&void 0!==o?o:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:e.flows.implicit?{authType:"oauth-2",authActive:!0,authURL:null!==(r=e.flows.implicit.authorizationUrl)&&void 0!==r?r:"",accessTokenURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:e.flows.password?{authType:"oauth-2",authActive:!0,authURL:"",accessTokenURL:null!==(i=e.flows.password.tokenUrl)&&void 0!==i?i:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:e.flows.clientCredentials?{authType:"oauth-2",authActive:!0,accessTokenURL:null!==(a=e.flows.clientCredentials.tokenUrl)&&void 0!==a?a:"",authURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:{authType:"oauth-2",authActive:!0,accessTokenURL:"",authURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""};if("openIdConnect"===e.type)return{authType:"oauth-2",authActive:!0,accessTokenURL:"",authURL:"",clientID:"",oidcDiscoveryURL:null!==(u=e.openIdConnectUrl)&&void 0!==u?u:"",scope:t.join(" "),token:""}}return{authType:"none",authActive:!0}}(i,n):{authType:"none",authActive:!0}}(e,u,c):{authType:"none",authActive:!0}},g=function(e,t){var n,r=t[0];if(!r)return{authType:"none",authActive:!0};var i=null!==(n=Object.entries(r)[0])&&void 0!==n?n:[void 0,void 0],a=Object(o.a)(i,2),u=a[0],c=a[1];return u&&c?function(e,t,n){var r,i=Object.entries(null!==(r=e.securityDefinitions)&&void 0!==r?r:{}).find((function(e){var n=Object(o.a)(e,1)[0];return t===n}));return i?function(e,t){var n,o,r,i,a;return"basic"===e.type?{authType:"basic",authActive:!0,username:"",password:""}:"apiKey"===e.type?{authType:"api-key",addTo:"header"===e.in?"Headers":"Query params",authActive:!0,key:e.name,value:""}:"oauth2"===e.type?"accessCode"===e.flow?{authType:"oauth-2",authActive:!0,accessTokenURL:null!==(n=e.tokenUrl)&&void 0!==n?n:"",authURL:null!==(o=e.authorizationUrl)&&void 0!==o?o:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:"implicit"===e.flow?{authType:"oauth-2",authActive:!0,accessTokenURL:"",authURL:null!==(r=e.authorizationUrl)&&void 0!==r?r:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:"application"===e.flow?{authType:"oauth-2",authActive:!0,accessTokenURL:null!==(i=e.tokenUrl)&&void 0!==i?i:"",authURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:"password"===e.flow?{authType:"oauth-2",authActive:!0,accessTokenURL:null!==(a=e.tokenUrl)&&void 0!==a?a:"",authURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:{authType:"oauth-2",authActive:!0,accessTokenURL:"",authURL:"",clientID:"",oidcDiscoveryURL:"",scope:t.join(" "),token:""}:{authType:"none",authActive:!0}}(i[1],n):{authType:"none",authActive:!0}}(e,u,c):{authType:"none",authActive:!0}},_=function(e,t){return k(e)?function(e,t){var n,o=e.security?x(e,e.security):void 0,r=t.security?x(e,t.security):void 0;return null!==(n=null!=r?r:o)&&void 0!==n?n:{authType:"none",authActive:!0}}(e,t):function(e,t){var n,o=e.security?g(e,e.security):void 0,r=t.security?g(e,t.security):void 0;return null!==(n=null!=r?r:o)&&void 0!==n?n:{authType:"none",authActive:!0}}(e,t)},C=function(e){var t,n=e.info.title,r=Object.entries(null!==(t=e.paths)&&void 0!==t?t:{}).map((function(t){var n=Object(o.a)(t,2),r=n[0],i=n[1];return function(e,t,n){return Object(l.pipe)(["get","head","post","put","delete","options","patch"],f.filterMap(Object(l.flow)(d.fromPredicate((function(e){return!!n[e]})),d.map((function(e){return{method:e,info:n[e]}})))),f.map((function(n){var o,r,i,a,u,p=n.method,v=n.info;return Object(c.makeRESTRequest)({name:null!==(r=null!==(o=v.operationId)&&void 0!==o?o:v.summary)&&void 0!==r?r:"Untitled Request",method:p.toUpperCase(),endpoint:"<<baseUrl>>".concat(j(t)),params:(u=null!==(i=v.parameters)&&void 0!==i?i:[],Object(l.pipe)(u,s.filterMap(Object(l.flow)(d.fromPredicate((function(e){return"query"===e.in})),d.map((function(e){return{key:e.name,value:"",active:!0}})))))),headers:O(null!==(a=v.parameters)&&void 0!==a?a:[]),auth:_(e,v),body:w(e,v),preRequestScript:"",testScript:""})})),f.toArray)}(e,r,i)})).flat();return v.r([Object(c.makeCollection)({name:n,folders:[],requests:r})])},R=function(e){return Object(l.pipe)(e,b,d.match((function(){return function(e){return d.tryCatch((function(){return u.default.load(e)}))}(e)}),(function(e){return d.of(e)})))};t.b=Object(y.b)({id:"openapi",name:"import.from_openapi",applicableTo:["my-collections","team-collections","url-import"],icon:"file",steps:[Object(m.a)({stepName:"FILE_IMPORT",metadata:{caption:"import.from_openapi_description",acceptedFileTypes:".json, .yaml, .yml"}})],importer:function(e){var t=Object(o.a)(e,1)[0];return Object(l.pipe)(t,R,v.h((function(){return y.a})),v.f((function(e){return Object(l.pipe)(v.v((function(){return a.a.validate(e)}),(function(){return y.a})))})),v.f((function(e){return Object(l.pipe)(v.v((function(){return a.a.dereference(e)}),(function(){return h})))})),v.f(C))}})},1160:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return re}));var o=n(53),r=n(1),i=n(55),a=n(52),u=n(61),c=n(74),l=n(1359),s=n.n(l),p=n(932),d=n(931),v=n(1053),f=Object(d.b)({id:"hoppscotch",name:"import.from_json",icon:"folder-plus",applicableTo:["my-collections","team-collections","url-import"],steps:[Object(p.a)({stepName:"FILE_IMPORT",metadata:{caption:"import.from_json_description",acceptedFileTypes:"application/json"}})],importer:function(e){var t=Object(o.a)(e,1)[0];return Object(r.pipe)(Object(v.b)(t),a.chain(Object(r.flow)(y,u.map(Object(r.flow)(a.fromPredicate(m),a.map(c.translateToNewRESTCollection))),a.sequenceArray,a.map(u.toArray))),i.h((function(){return d.a})))}}),m=function(e){return t=e,s()(t)&&"v"in e;var t},y=function(e){return Array.isArray(e)?e:[e]},h=n(1155),b=(n(137),n(4),n(11),n(129),n(57),n(1364)),j=n(305),O=n(87),T=n(1040),k=function(e){return a.tryCatch((function(){return JSON.parse(e)}))},w=function(e){return b.Item.isItem(e)},x=Object(r.flow)(j.replace(/{{\s*/g,"<<"),j.replace(/\s*}}/g,">>")),g={text:"text/plain",javascript:"text/plain",json:"application/json",html:"text/html",xml:"application/xml"},_=function(e){return b.ItemGroup.isItemGroup(e)},C=function(e){return Object(r.pipe)(e,k,a.chain((function(e){return a.tryCatch((function(){return new b.Collection(e)}))})))},R=function(e){return Object(r.pipe)(e.request.headers.all(),O.map((function(e){return{key:x(e.key),value:x(e.value),active:!e.disabled}})))},U=function(e){return Object(r.pipe)(e.request.url.query.all(),O.filter((function(e){return void 0!==e.key&&null!==e.key&&e.key.length>0})),O.map((function(e){var t;return{key:x(e.key),value:x(null!==(t=e.value)&&void 0!==t?t:""),active:!e.disabled}})))},I=function(e,t){var n;return null===(n=e.find((function(e){return e.key===t})))||void 0===n?void 0:n.value},L=function(e){var t,n,o,r,i,a,u,c,l,s,p;if(!e.request.auth)return{authType:"none",authActive:!0};var d=e.request.auth;return"basic"===d.type?{authType:"basic",authActive:!0,username:x(null!==(t=I(d.basic,"username"))&&void 0!==t?t:""),password:x(null!==(n=I(d.basic,"password"))&&void 0!==n?n:"")}:"apikey"===d.type?{authType:"api-key",authActive:!0,key:x(null!==(o=I(d.apikey,"key"))&&void 0!==o?o:""),value:x(null!==(r=I(d.apikey,"value"))&&void 0!==r?r:""),addTo:"query"===(null!==(i=I(d.apikey,"in"))&&void 0!==i?i:"query")?"Query params":"Headers"}:"bearer"===d.type?{authType:"bearer",authActive:!0,token:x(null!==(a=I(d.bearer,"token"))&&void 0!==a?a:"")}:"oauth2"===d.type?{authType:"oauth-2",authActive:!0,accessTokenURL:x(null!==(u=I(d.oauth2,"accessTokenUrl"))&&void 0!==u?u:""),authURL:x(null!==(c=I(d.oauth2,"authUrl"))&&void 0!==c?c:""),clientID:x(null!==(l=I(d.oauth2,"clientId"))&&void 0!==l?l:""),scope:x(null!==(s=I(d.oauth2,"scope"))&&void 0!==s?s:""),token:x(null!==(p=I(d.oauth2,"accessToken"))&&void 0!==p?p:""),oidcDiscoveryURL:""}:{authType:"none",authActive:!0}},S=function(e){var t,n,o,i;if(!e.request.body)return{contentType:null,body:null};var u=e.request.body;return"formdata"===u.mode?{contentType:"multipart/form-data",body:Object(r.pipe)(null!==(n=null===(t=u.formdata)||void 0===t?void 0:t.all())&&void 0!==n?n:[],O.map((function(e){return{key:x(e.key),value:x("text"===e.type?e.value:""),active:!e.disabled,isFile:!1}})))}:"urlencoded"===u.mode?{contentType:"application/x-www-form-urlencoded",body:Object(r.pipe)(null!==(i=null===(o=u.urlencoded)||void 0===o?void 0:o.all())&&void 0!==i?i:[],O.map((function(e){var t,n;return"".concat(x(null!==(t=e.key)&&void 0!==t?t:""),": ").concat(x(null!==(n=e.value)&&void 0!==n?n:""))})),Object(T.c)("\n"))}:"raw"===u.mode?Object(r.pipe)(a.Do,a.bind("contentType",(function(){return Object(r.pipe)(R(e),O.findFirst((function(e){return"content-type"===e.key.toLowerCase()})),a.map((function(e){return e.value})),a.filter((function(e){return e in c.knownContentTypes})),a.alt((function(){var e,t;return Object(r.pipe)(null===(t=null===(e=u.options)||void 0===e?void 0:e.raw)||void 0===t?void 0:t.language,a.fromNullable,a.map((function(e){return g[e]})))})),a.getOrElse((function(){return"text/plain"})),a.of)})),a.bind("body",(function(){return Object(r.pipe)(u.raw,a.fromNullable,a.map(x))})),a.match((function(){return{contentType:null,body:null}}),(function(e){return{contentType:e.contentType,body:e.body}}))):{contentType:null,body:null}},A=function(e){return Object(r.pipe)(e.request.url.toString(!1),j.replace(/\?.+/g,""),x)},D=function(e){return Object(c.makeRESTRequest)({name:e.name,endpoint:A(e),method:e.request.method.toUpperCase(),headers:R(e),params:U(e),auth:L(e),body:S(e),preRequestScript:"",testScript:""})},F=function e(t){return Object(c.makeCollection)({name:t.name,folders:Object(r.pipe)(t.items.all(),O.filter(_),O.map(e)),requests:Object(r.pipe)(t.items.all(),O.filter(w),O.map(D))})},q=function(e){return F(e)},N=Object(d.b)({id:"postman",name:"import.from_postman",applicableTo:["my-collections","team-collections","url-import"],icon:"postman",steps:[Object(p.a)({stepName:"FILE_IMPORT",metadata:{caption:"import.from_postman_description",acceptedFileTypes:".json"}})],importer:function(e){var t=Object(o.a)(e,1)[0];return Object(r.pipe)(t,C,a.map(Object(r.flow)(q,O.of)),i.h((function(){return d.a})))}}),P=(n(64),n(177),n(9),n(119),n(131),n(10),n(1366)),E=n(965),M=function(e){return E.h((function(){return Object(P.convert)(e)}))},G=Object(r.flow)(j.replace(/{{\s*/g,"<<"),j.replace(/\s*}}/g,">>")),J=function(e,t){return Object(r.pipe)(t,O.filter((function(t){var n;return("request_group"===t._type||"workspace"===t._type)&&t.parentId===(null!==(n=null==e?void 0:e._id)&&void 0!==n?n:null)})))},z=function(e,t){return Object(r.pipe)(t,O.filter((function(t){var n;return"request"===t._type&&t.parentId===(null!==(n=null==e?void 0:e._id)&&void 0!==n?n:null)})))},B=function(e){var t,n,o,r,i,a,u,c;if(!e.authentication)return{authType:"none",authActive:!0};var l=e.authentication;return"basic"===l.type?{authType:"basic",authActive:!0,username:G(null!==(t=l.username)&&void 0!==t?t:""),password:G(null!==(n=l.password)&&void 0!==n?n:"")}:"oauth2"===l.type?{authType:"oauth-2",authActive:!(null!==(o=l.disabled)&&void 0!==o&&o),accessTokenURL:G(null!==(r=l.accessTokenUrl)&&void 0!==r?r:""),authURL:G(null!==(i=l.authorizationUrl)&&void 0!==i?i:""),clientID:G(null!==(a=l.clientId)&&void 0!==a?a:""),oidcDiscoveryURL:"",scope:G(null!==(u=l.scope)&&void 0!==u?u:""),token:""}:"bearer"===l.type?{authType:"bearer",authActive:!0,token:G(null!==(c=l.token)&&void 0!==c?c:"")}:{authType:"none",authActive:!0}},$=function(e){var t,n,o,r,i,a,u,l,s,p;return e.body?"string"==typeof e.body?{contentType:null!==(o=null===(n=null===(t=e.headers)||void 0===t?void 0:t.find((function(e){return"content-type"===e.name.toLowerCase()})))||void 0===n?void 0:n.value)&&void 0!==o?o:"text/plain",body:G(e.body)}:"multipart/form-data"===e.body.mimeType?{contentType:"multipart/form-data",body:null!==(i=null===(r=e.body.params)||void 0===r?void 0:r.map((function(e){var t,n;return{key:G(e.name),value:G(null!==(t=e.value)&&void 0!==t?t:""),active:!(null!==(n=e.disabled)&&void 0!==n&&n),isFile:!1}})))&&void 0!==i?i:[]}:"application/x-www-form-urlencoded"===e.body.mimeType?{contentType:"application/x-www-form-urlencoded",body:null!==(u=null===(a=e.body.params)||void 0===a?void 0:a.filter((function(e){var t;return!(null!==(t=e.disabled)&&void 0!==t&&t)})).map((function(e){var t;return"".concat(G(e.name),": ").concat(G(null!==(t=e.value)&&void 0!==t?t:""))})).join("\n"))&&void 0!==u?u:""}:Object.keys(c.knownContentTypes).includes(null!==(l=e.body.mimeType)&&void 0!==l?l:"text/plain")?{contentType:null!==(s=e.body.mimeType)&&void 0!==s?s:"text/plain",body:G(null!==(p=e.body.text)&&void 0!==p?p:"")}:{contentType:null,body:null}:{contentType:null,body:null}},H=function(e){var t,n;return null!==(n=null===(t=e.headers)||void 0===t?void 0:t.map((function(e){return{key:G(e.name),value:G(e.value),active:!e.disabled}})))&&void 0!==n?n:[]},Q=function(e){var t,n;return null!==(n=null===(t=e.parameters)||void 0===t?void 0:t.map((function(e){var t,n;return{key:G(e.name),value:G(null!==(t=e.value)&&void 0!==t?t:""),active:!(null!==(n=e.disabled)&&void 0!==n&&n)}})))&&void 0!==n?n:[]},K=function(e){var t,n,o,r;return Object(c.makeRESTRequest)({name:null!==(t=e.name)&&void 0!==t?t:"Untitled Request",method:null!==(o=null===(n=e.method)||void 0===n?void 0:n.toUpperCase())&&void 0!==o?o:"GET",endpoint:G(null!==(r=e.url)&&void 0!==r?r:""),auth:B(e),body:$(e),headers:H(e),params:Q(e),preRequestScript:"",testScript:""})},W=function e(t,n){var o;return Object(c.makeCollection)({name:null!==(o=t.name)&&void 0!==o?o:"",folders:J(t,n).map((function(t){return e(t,n)})),requests:z(t,n).map(K)})},Y=function(e){return J(null,e.data.resources).map((function(t){return W(t,e.data.resources)}))},V=Object(d.b)({id:"insomnia",name:"import.from_insomnia",applicableTo:["my-collections","team-collections","url-import"],icon:"insomnia",steps:[Object(p.a)({stepName:"FILE_IMPORT",metadata:{caption:"import.from_insomnia_description",acceptedFileTypes:".json, .yaml"}})],importer:function(e){var t=Object(o.a)(e,1)[0];return Object(r.pipe)(t,M,E.e(Y),i.j((function(){return d.a})))}}),X=(n(60),n(149),n(516),n(208)),Z=n.n(X),ee=Object(d.b)({id:"gist",name:"import.from_gist",icon:"github",applicableTo:["my-collections","team-collections"],steps:[Object(p.a)({stepName:"URL_IMPORT",metadata:{caption:"import.from_gist_description",placeholder:"import.gist_url"}})],importer:function(e){var t,n=Object(o.a)(e,1)[0];return Object(r.pipe)((t=n,Object(r.pipe)(E.h((function(){return Z.a.get("https://api.github.com/gists/".concat(t.split("/").pop()),{headers:{Accept:"application/vnd.github.v3+json"}})})),E.a((function(e){return Object(r.pipe)(a.tryCatch((function(){return JSON.parse(Object.values(e.data.files)[0].content)})),E.c)})))),i.j((function(){return d.a})))}}),te=n(127),ne=Object(d.b)({id:"myCollections",name:"import.from_my_collections",icon:"user",applicableTo:["team-collections"],steps:[Object(p.a)({stepName:"TARGET_MY_COLLECTION",metadata:{caption:"import.from_my_collections_description"}})],importer:function(e){var t=Object(o.a)(e,1)[0];return Object(r.pipe)(t,te.m,O.of,i.r)}}),oe=[f,h.b,N,V,ee,ne],re=[f,h.b,N,V]},1305:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n(26),i={setup:function(e,t){return{t:Object(r.d)(),expand:Object(o.o)(!1)}}},a=i,u=n(23),c=Object(u.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative flex flex-col overflow-hidden space-y-2",class:e.expand?"h-full":"max-h-32"},[e._t("body"),e._v(" "),n("div",{staticClass:"sticky inset-x-0 bottom-0 flex items-center justify-center"},[n("ButtonSecondary",{attrs:{icon:e.expand?"expand_less":"expand_more",label:e.expand?e.t("action.less"):e.t("action.more"),filled:"",rounded:""},nativeOn:{click:function(t){e.expand=!e.expand}}})],1)],2)}),[],!1,null,null,null);t.default=c.exports;installComponents(c,{ButtonSecondary:n(108).default})},1323:function(e,t,n){"use strict";n.r(t);var o=n(20),r=(n(4),n(129),n(75),n(69),n(370),n(202),n(60),n(149),n(130),n(9),n(119),n(131),n(65),n(3)),i=n(1),a=n(16),u=n(26),c=n(22),l=n(127),s=n(1160),p=n(85),d=n(66),v={};v.props={show:{key:"show",required:!0,type:Boolean},collectionsType:{key:"collectionsType",required:!0,type:Object}},v.setup=function(e,t){var n=e,v=t.emit,f=Object(u.b)(),m=Object(u.j)(),y=Object(u.d)(),h=Object(u.g)(l.y,[]),b=Object(u.g)(c.c,null),j=Object(r.o)("import_export"),O=Object(r.o)(void 0),T=Object(r.o)(""),k=Object(r.o)(),w=Object(r.o)(""),x=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("my-collections"!==n.collectionsType.type){e.next=4;break}T.value=JSON.stringify(h.value,null,2),e.next=10;break;case 4:return e.t0=i.pipe,e.next=7,Object(p.a)({query:d.l,variables:{teamID:n.collectionsType.selectedTeam.id}});case 7:e.t1=e.sent,e.t2=a.matchW((function(){throw new Error("Error exporting collection to JSON")}),(function(e){return e.exportCollectionsToJSON})),T.value=(0,e.t0)(e.t1,e.t2);case 10:return e.abrupt("return",T.value);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.value){e.next=3;break}return m.error(y("profile.no_permission").toString()),e.abrupt("return");case 3:return e.next=5,x();case 5:return e.prev=5,e.next=8,f.$post("https://api.github.com/gists",{files:{"hoppscotch-collections.json":{content:T.value}}},{headers:{Authorization:"token ".concat(b.value.accessToken),Accept:"application/vnd.github.v3+json"}});case 8:t=e.sent,m.success(y("export.gist_created").toString()),window.open(t.html_url),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),m.error(y("error.something_went_wrong").toString()),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),_=function(){m.success(y("state.file_imported").toString()),C()},C=function(){j.value="import_export",O.value=void 0,G(),v("hide-modal")},R=Object(r.o)([]);Object(r.z)(O,(function(e){void 0!==e&&(R.value=[],R.value.push(e))}));var U=Object(r.o)(!1),I=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U.value=!0,"team-collections"===n.collectionsType.type){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(p.c)(d.w,{jsonString:JSON.stringify(t),teamID:n.collectionsType.selectedTeam.id})();case 5:o=e.sent,a.isLeft(o)?console.error(o.left):v("update-team-collections"),U.value=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=T.value,n=new Blob([t],{type:"application/json"}),o=document.createElement("a"),r=URL.createObjectURL(n),o.href=r,o.download="".concat(r.split("/").pop().split("#")[0].split("?")[0],".json"),document.body.appendChild(o),o.click(),m.success(y("state.download_started").toString()),setTimeout((function(){document.body.removeChild(o),URL.revokeObjectURL(r)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(r.a)((function(){return s.a.filter((function(e){var t,o;return null===(o=null===(t=e.applicableTo)||void 0===t?void 0:t.includes(n.collectionsType.type))||void 0===o||o}))})),A=Object(r.o)(null),D=Object(r.a)((function(){return null!==A.value?S.value[A.value]:null})),F=Object(r.a)((function(){var e,t;return null!==(t=null===(e=D.value)||void 0===e?void 0:e.steps)&&void 0!==t?t:null})),q=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(R.value);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,null===(o=D.value)||void 0===o?void 0:o.importer(t)();case 4:r=e.sent,a.isLeft(r)?(m.error(y("import.failed").toString()),console.error("error",r.left)):a.isRight(r)&&("team-collections"===n.collectionsType.type?(I(r.right),_()):(Object(l.f)(r.right),_()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(r.o)(!1),E=Object(r.o)(!1);Object(r.z)(w,(function(e){R.value=[],""===e?E.value=!1:(E.value=!0,R.value.push(w.value))}));var M=Object(r.a)((function(){var e;return!(R.value.length===(null===(e=F.value)||void 0===e?void 0:e.length))})),G=function(){A.value=null,R.value=[],k.value="",P.value=!1,w.value="",E.value=!1,O.value=void 0};return{t:y,myCollections:h,currentUser:b,mySelectedCollectionID:O,inputChooseFileToImportFrom:k,inputChooseGistToImportFrom:w,createCollectionGist:g,hideModal:C,importingMyCollections:U,exportJSON:L,importerModules:S,importerType:A,importerSteps:F,finishImport:q,hasFile:P,hasGist:E,onFileChange:function(){if(R.value=[],k.value[0]){if(!k.value[0].files||0===k.value[0].files.length)return k.value[0].value="",P.value=!1,void m.show(y("action.choose_file").toString());var e=new FileReader;e.onload=function(e){var t=e.target.result;if(!t)return P.value=!1,void m.show(y("action.choose_file").toString());R.value.push(t),P.value=!!(null==t?void 0:t.length)},e.readAsText(k.value[0].files[0])}else P.value=!1},enableImportButton:M,resetImport:G}};var f=v,m=n(23),y=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("SmartModal",{attrs:{dialog:"",title:""+e.t("modal.collections"),"max-width":"sm:max-w-md"},on:{close:e.hideModal},scopedSlots:e._u([{key:"actions",fn:function(){return[null!==e.importerType?n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.t("action.go_back"),svg:"arrow-left"},nativeOn:{click:function(t){return e.resetImport.apply(null,arguments)}}}):e._e()]},proxy:!0},{key:"body",fn:function(){return[null!==e.importerType?n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-col px-2 pb-6"},e._l(e.importerSteps,(function(t,o){return n("div",{key:"step-"+o,staticClass:"flex flex-col space-y-8"},["FILE_IMPORT"===t.name?n("div",{staticClass:"space-y-4"},[n("p",{staticClass:"flex items-center"},[n("span",{staticClass:"inline-flex items-center justify-center flex-shrink-0 mr-4 border-4 rounded-full border-primary text-dividerDark",class:{"!text-green-500":e.hasFile}},[n("i",{staticClass:"material-icons"},[e._v("check_circle")])]),e._v(" "),n("span",[e._v("\n                "+e._s(e.t(""+t.metadata.caption))+"\n              ")])]),e._v(" "),n("p",{staticClass:"flex flex-col ml-10"},[n("input",{ref:"inputChooseFileToImportFrom",refInFor:!0,staticClass:"cursor-pointer transition file:transition file:cursor-pointer text-secondary hover:text-secondaryDark file:mr-2 file:py-2 file:px-4 file:rounded file:border-0 file:text-secondary hover:file:text-secondaryDark file:bg-primaryLight hover:file:bg-primaryDark",attrs:{id:"inputChooseFileToImportFrom",name:"inputChooseFileToImportFrom",type:"file",accept:t.metadata.acceptedFileTypes},on:{change:e.onFileChange}})])]):"URL_IMPORT"===t.name?n("div",{staticClass:"space-y-4"},[n("p",{staticClass:"flex items-center"},[n("span",{staticClass:"inline-flex items-center justify-center flex-shrink-0 mr-4 border-4 rounded-full border-primary text-dividerDark",class:{"!text-green-500":e.hasGist}},[n("i",{staticClass:"material-icons"},[e._v("check_circle")])]),e._v(" "),n("span",[e._v("\n                "+e._s(e.t(""+t.metadata.caption))+"\n              ")])]),e._v(" "),n("p",{staticClass:"flex flex-col ml-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputChooseGistToImportFrom,expression:"inputChooseGistToImportFrom"}],staticClass:"input",attrs:{type:"url",placeholder:""+e.$t("import.gist_url")},domProps:{value:e.inputChooseGistToImportFrom},on:{input:function(t){t.target.composing||(e.inputChooseGistToImportFrom=t.target.value)}}})])]):"TARGET_MY_COLLECTION"===t.name?n("div",{staticClass:"flex flex-col px-2"},[n("div",{staticClass:"select-wrapper"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.mySelectedCollectionID,expression:"mySelectedCollectionID"}],staticClass:"select",attrs:{type:"text",autocomplete:"off",autofocus:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mySelectedCollectionID=t.target.multiple?n:n[0]}}},[n("option",{key:void 0,attrs:{disabled:"",selected:""},domProps:{value:void 0}},[e._v("\n                  "+e._s(e.t("collection.select"))+"\n                ")]),e._v(" "),e._l(e.myCollections,(function(t,o){return n("option",{key:"collection-"+o,domProps:{value:o}},[e._v("\n                  "+e._s(t.name)+"\n                ")])}))],2)])]):e._e()])})),0),e._v(" "),n("ButtonPrimary",{staticClass:"mx-2",attrs:{label:e.t("import.title"),disabled:e.enableImportButton,loading:e.importingMyCollections},nativeOn:{click:function(t){return e.finishImport.apply(null,arguments)}}})],1):n("div",{staticClass:"flex flex-col px-2"},[n("SmartExpand",{scopedSlots:e._u([{key:"body",fn:function(){return e._l(e.importerModules,(function(t,o){return n("SmartItem",{key:"importer-"+o,attrs:{svg:t.icon,label:e.t(""+t.name)},nativeOn:{click:function(t){e.importerType=o}}})}))},proxy:!0}],null,!1,230575774)}),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"flex flex-col space-y-2"},[n("SmartItem",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.t("action.download_file"),svg:"download",label:e.t("export.as_json")},nativeOn:{click:function(t){return e.exportJSON.apply(null,arguments)}}}),e._v(" "),n("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"flex",attrs:{title:e.currentUser?"github.com"!==e.currentUser.provider?""+e.t("export.require_github"):void 0:""+e.t("export.require_github")}},[n("SmartItem",{attrs:{disabled:!e.currentUser||"github.com"!==e.currentUser.provider,svg:"github",label:e.t("export.create_secret_gist")},nativeOn:{click:function(t){return function(){e.createCollectionGist()}.apply(null,arguments)}}})],1)],1)],1)]},proxy:!0}],null,!1,1905842934)}):e._e()}),[],!1,null,null,null);t.default=y.exports;installComponents(y,{ButtonSecondary:n(108).default,ButtonPrimary:n(176).default,SmartItem:n(128).default,SmartExpand:n(1305).default,SmartModal:n(116).default})},1331:function(e,t){},1332:function(e,t){},1363:function(e,t){},1365:function(e,t){},1367:function(e,t){},1368:function(e,t){},1369:function(e,t){},1370:function(e,t){},1371:function(e,t){},1372:function(e,t){},1373:function(e,t){},1374:function(e,t){},931:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n(10),n(8),n(9),n(4),n(14),n(7),n(13);var o=n(34);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var i="importer_invalid_file_format",a=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}},932:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){var t;return{name:e.stepName,metadata:null!==(t=e.metadata)&&void 0!==t?t:void 0,caption:e.caption}}}}]);