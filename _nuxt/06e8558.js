(window.webpackJsonp=window.webpackJsonp||[]).push([[124,57],{2280:function(t,e,i){"use strict";i.r(e);var n=i(20),a=(i(69),i(3)),s=i(22),r=Object(a.c)({props:{outline:{type:Boolean,default:!1},shortcut:{type:Array,default:function(){return[]}}},data:function(){return{confirmLogout:!1}},methods:{logout:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.t)();case 3:t.$toast.success("".concat(t.$t("auth.logged_out"))),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),t.$toast.error("".concat(t.$t("error.something_went_wrong")));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}}),o=i(25),l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex",on:{click:function(e){return t.$refs.logout.$el.click()}}},[i("SmartItem",{ref:"logout",attrs:{svg:"log-out",label:""+t.$t("auth.logout"),outline:t.outline,shortcut:t.shortcut},nativeOn:{click:function(e){return function(){t.$emit("confirm-logout"),t.confirmLogout=!0}.apply(null,arguments)}}}),t._v(" "),i("SmartConfirmModal",{attrs:{show:t.confirmLogout,title:""+t.$t("confirm.logout")},on:{"hide-modal":function(e){t.confirmLogout=!1},resolve:t.logout}})],1)}),[],!1,null,null,null);e.default=l.exports;installComponents(l,{SmartItem:i(148).default,SmartConfirmModal:i(513).default})},2413:function(t,e,i){"use strict";i.r(e);var n=i(3),a=i(16),s=i(55),r=i(1),o=i(85),l=i(65),c=i(354),u=i(280),m=i(22),d=i(26),v=Object(n.c)({layout:"empty",setup:function(){var t=Object(n.w)(),e=Object(o.d)({query:l.q,variables:{inviteID:t.value.query.id},defer:!0});Object(m.j)((function(){"string"==typeof t.value.query.id&&e.execute({inviteID:t.value.query.id})}));var i=Object(d.g)(m.k,null),s=Object(d.g)(m.c,null),r=Object(n.a)((function(){return!!i.value&&!s.value}));return{E:a,inviteDetails:e,loadingCurrentUser:r,currentUser:s}},data:function(){return{invalidLink:!1,showLogin:!1,loading:!1,revokedLink:!1,inviteID:"",joinTeamSuccess:!1}},beforeMount:function(){Object(u.a)()},mounted:function(){"string"==typeof this.$route.query.id&&(this.inviteID=this.$route.query.id),this.invalidLink=!this.inviteID},methods:{joinTeam:function(){var t=this;this.loading=!0,Object(r.pipe)(Object(c.a)(this.inviteID),s.q((function(){t.loading=!1,t.$toast.error("".concat(t.$t("error.something_went_wrong")))}),(function(){t.joinTeamSuccess=!0,t.loading=!1})))()},getErrorMessage:function(t){if("network_error"===t.type)return this.$t("error.network_error");switch(t.error){case"team_invite/not_valid_viewer":return this.$t("team.not_valid_viewer");case"team_invite/not_found":return this.$t("team.not_found");case"team_invite/no_invite_found":return this.$t("team.no_invite_found");case"team_invite/already_member":return this.$t("team.already_member");case"team_invite/email_do_not_match":return this.$t("team.email_do_not_match");default:return this.$t("error.something_went_wrong")}}}}),_=i(25),f=Object(_.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex flex-col items-center justify-between min-h-screen"},[t.invalidLink?i("div",{staticClass:"flex flex-col items-center justify-center flex-1"},[i("i",{staticClass:"pb-2 opacity-75 material-icons"},[t._v("error_outline")]),t._v(" "),i("h1",{staticClass:"text-center heading"},[t._v("\n      "+t._s(t.$t("team.invalid_invite_link"))+"\n    ")]),t._v(" "),i("p",{staticClass:"mt-2 text-center"},[t._v("\n      "+t._s(t.$t("team.invalid_invite_link_description"))+"\n    ")])]):t.loadingCurrentUser?i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[i("SmartSpinner")],1):null===t.currentUser?i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[i("h1",{staticClass:"heading"},[t._v(t._s(t.$t("team.login_to_continue")))]),t._v(" "),i("p",{staticClass:"mt-2"},[t._v(t._s(t.$t("team.login_to_continue_description")))]),t._v(" "),i("ButtonPrimary",{staticClass:"mt-8",attrs:{label:t.$t("auth.login_to_hoppscotch")},nativeOn:{click:function(e){t.showLogin=!0}}})],1):i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[t.inviteDetails.loading?i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[i("SmartSpinner")],1):i("div",[!t.inviteDetails.loading&&t.E.isLeft(t.inviteDetails.data)?i("div",{staticClass:"flex flex-col items-center p-4"},[i("i",{staticClass:"mb-4 material-icons"},[t._v("error_outline")]),t._v(" "),i("p",[t._v("\n          "+t._s(t.getErrorMessage(t.inviteDetails.data.left))+"\n        ")]),t._v(" "),i("p",{staticClass:"flex flex-col items-center p-4 mt-8 border rounded border-dividerLight"},[i("span",{staticClass:"mb-4"},[t._v("\n            "+t._s(t.$t("team.logout_and_try_again"))+"\n          ")]),t._v(" "),i("span",{staticClass:"flex"},["gql_error"===t.inviteDetails.data.left.type?i("FirebaseLogout",{attrs:{outline:""}}):t._e()],1)])]):t._e(),t._v(" "),t.inviteDetails.loading||!t.E.isRight(t.inviteDetails.data)||t.joinTeamSuccess?t._e():i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[i("h1",{staticClass:"heading"},[t._v("\n          "+t._s(t.$t("team.join_team",{team:t.inviteDetails.data.right.teamInvitation.team.name}))+"\n        ")]),t._v(" "),i("p",{staticClass:"mt-2 text-secondaryLight"},[t._v("\n          "+t._s(t.$t("team.invited_to_team",{owner:t.inviteDetails.data.right.teamInvitation.creator.displayName,team:t.inviteDetails.data.right.teamInvitation.team.name}))+"\n        ")]),t._v(" "),i("div",{staticClass:"mt-8"},[i("ButtonPrimary",{attrs:{label:t.$t("team.join_team",{team:t.inviteDetails.data.right.teamInvitation.team.name}),loading:t.loading,disabled:t.revokedLink},nativeOn:{click:function(e){return t.joinTeam.apply(null,arguments)}}})],1)]),t._v(" "),!t.inviteDetails.loading&&t.E.isRight(t.inviteDetails.data)&&t.joinTeamSuccess?i("div",{staticClass:"flex flex-col items-center justify-center flex-1 p-4"},[i("h1",{staticClass:"heading"},[t._v("\n          "+t._s(t.$t("team.joined_team",{team:t.inviteDetails.data.right.teamInvitation.team.name}))+"\n        ")]),t._v(" "),i("p",{staticClass:"mt-2 text-secondaryLight"},[t._v("\n          "+t._s(t.$t("team.joined_team_description",{team:t.inviteDetails.data.right.teamInvitation.team.name}))+"\n        ")]),t._v(" "),i("div",{staticClass:"mt-8"},[i("ButtonSecondary",{attrs:{to:"/",svg:"home",filled:"",label:t.$t("app.home")}})],1)]):t._e()])]),t._v(" "),i("div",{staticClass:"p-4"},[i("ButtonSecondary",{staticClass:"tracking-wide !font-bold !text-secondaryDark",attrs:{label:"HOPPSCOTCH",to:"/"}})],1),t._v(" "),i("FirebaseLogin",{attrs:{show:t.showLogin},on:{"hide-modal":function(e){t.showLogin=!1}}})],1)}),[],!1,null,null,null);e.default=f.exports;installComponents(f,{SmartSpinner:i(177).default,ButtonPrimary:i(201).default,FirebaseLogout:i(2280).default,ButtonSecondary:i(108).default,FirebaseLogin:i(549).default})}}]);